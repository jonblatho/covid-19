function chartLabels(b,c){var a=c.map(a=>a.date);return b=='pos_rate'&&(a=a.slice(154)),a}function primaryLineDataset(a,b,c){return{data:a,pointRadius:0,type:'line',fill:!1,label:b,borderColor:c,borderWidth:2,order:1,lineTension:0}}function secondaryLineDataset(a,b){return{data:a,pointRadius:0,type:'line',fill:!1,label:b,borderColor:'#aaaaaa',borderWidth:1,order:1,lineTension:0}}function chartData(a,b){var c,d;return datasets=[],a=='total'||a=='new'?(a=='total'?(c="total_cases"):a=='new'&&(c="new_cases"),keys.forEach(function(f,e){var d={data:b.map(a=>a[c][f]),label:categories[e],backgroundColor:categoryColors[e]};a=='total'?(d.fill='origin',d.pointRadius=0):a=='new'&&(d.borderColor=categoryColors[e],d.order=2,d.categoryPercentage=1,d.barPercentage=1),datasets.push(d)}),a=='new'&&datasets.push({data:b.map(a=>a.average_daily_cases_7d??Number.NaN),pointRadius:0,type:'line',fill:!1,label:'7-day Average',borderColor:'#bb0000',borderWidth:2,order:1,lineTension:0})):a=='active'?(datasets.push(primaryLineDataset(b.map(a=>a.average_active_cases_7d??Number.NaN),'7-day Average','#bb7700')),datasets.push(secondaryLineDataset(b.map(a=>a.active_cases),'Active Cases'))):a=='pos_rate'&&(datasets.push(primaryLineDataset(b.slice(154).map(a=>a.positivity_rate??Number.NaN),'14-day Positivity Rate','#0077cc')),d=secondaryLineDataset(b.slice(154).map(a=>a.tests.average_14d??Number.NaN),'14-day Average Daily Tests'),d.yAxisID='y_tests',datasets.push(d)),datasets}