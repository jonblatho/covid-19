function loadData(a){json==null&&fetch(a).then(a=>a.json()).then(a=>{json=a,reloadChart('total',json)}).catch(a=>{throw a})}function chartLabels(b,c){var a=c.map(a=>a.date);return b=='pos_rate'&&(a=a.slice(155)),a}function chartData(c,a){var b;if(c=='total')return b=[],b.push(a.map(a=>a.total_cases.west_plains)),b.push(a.map(a=>a.total_cases.willow_springs)),b.push(a.map(a=>a.total_cases.mountain_view)),b.push(a.map(a=>a.total_cases.other)),datasets=[],b.forEach(function(b,a){datasets.push({data:b,label:categories[a],pointRadius:0,backgroundColor:categoryColors[a],fill:'origin'})}),datasets;if(c=='new')return b=[],b.push(a.map(a=>a.new_cases.west_plains)),b.push(a.map(a=>a.new_cases.willow_springs)),b.push(a.map(a=>a.new_cases.mountain_view)),b.push(a.map(a=>a.new_cases.other)),datasets=[],b.forEach(function(b,a){datasets.push({data:b,label:categories[a],backgroundColor:categoryColors[a],borderColor:categoryColors[a],order:2,categoryPercentage:1,barPercentage:1})}),datasets.push({data:a.map(a=>a.average_daily_cases_7d??Number.NaN),pointRadius:0,type:'line',fill:!1,label:'7-day Average',borderColor:'#bb0000',borderWidth:2,order:1,lineTension:0}),datasets;if(c=='active')return datasets=[],datasets.push({data:a.map(a=>a.active_cases),pointRadius:0,type:'line',fill:!1,label:'Active Cases',borderColor:'#aaaaaa',borderWidth:1,order:2,lineTension:0}),datasets.push({data:a.map(a=>a.average_active_cases_7d??Number.NaN),pointRadius:0,type:'line',fill:!1,label:'7-day Average',borderColor:'#bb7700',borderWidth:2,order:1,lineTension:0}),datasets;if(c=='pos_rate')return datasets=[],datasets.push({data:a.slice(155).map(a=>a.positivity_rate??Number.NaN),pointRadius:0,type:'line',fill:!1,label:'14-day Positivity Rate',borderColor:'#0077cc',borderWidth:2,order:1,lineTension:0}),datasets.push({data:a.slice(155).map(a=>a.tests.average_14d??Number.NaN),pointRadius:0,type:'line',fill:!1,label:'14-day Average Daily Tests',borderColor:'#aaaaaa',borderWidth:1,order:1,lineTension:0,yAxisID:'y_tests'}),console.log(chart.options.scales),datasets}